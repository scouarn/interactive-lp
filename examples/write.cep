
nat : type.   #builtin NAT nat.
z : nat.      #builtin NAT_ZERO z.
s nat : nat.  #builtin NAT_SUCC s.

write/1 nat : action. #builtin WRITE write/1.
write/3 nat nat nat : action. #builtin WRITE write/3.

plus nat nat nat : bwd.
plus/z : plus z N N.
plus/s : plus (s N) M (s P) <- plus N M P.

go nat nat : pred.

stage rules {
  name: go N M * plus N M P -o write/1 N * write/1 M * write/3 N M P.
}

context init = { go (s (s (s z))) (s (s z)) }.

#trace _ rules init.
